"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[960],{9960:(h,c,l)=>{l.r(c),l.d(c,{default:()=>C});var u=l(6814),s=l(5665),_=l(9073),n=l(9212);function f(o,p){if(1&o){const e=n.EpF();n.TgZ(0,"mat-list-item",9),n.NdJ("dndMoved",function(){const t=n.CHM(e),r=t.index,a=t.$implicit,i=n.oxw();return n.KtG(i.onDragged(r,a,i.fruits))}),n.TgZ(1,"span",10),n._uU(2),n.qZA()()}if(2&o){const e=p.$implicit;n.Q6J("dndDraggable",e)("dndType",e.type),n.xp6(2),n.AsE("",e.type," ",e.id,"")}}function T(o,p){if(1&o){const e=n.EpF();n.TgZ(0,"mat-list-item",9),n.NdJ("dndMoved",function(){const t=n.CHM(e),r=t.index,a=t.$implicit,i=n.oxw();return n.KtG(i.onDragged(r,a,i.apples))}),n.TgZ(1,"span",10),n._uU(2),n.qZA()()}if(2&o){const e=p.$implicit;n.Q6J("dndDraggable",e)("dndType",e.type),n.xp6(2),n.AsE("",e.type," ",e.id,"")}}function y(o,p){if(1&o){const e=n.EpF();n.TgZ(0,"mat-list-item",9),n.NdJ("dndMoved",function(){const t=n.CHM(e),r=t.index,a=t.$implicit,i=n.oxw();return n.KtG(i.onDragged(r,a,i.bananas))}),n.TgZ(1,"span",10),n._uU(2),n.qZA()()}if(2&o){const e=p.$implicit;n.Q6J("dndDraggable",e)("dndType",e.type),n.xp6(2),n.AsE("",e.type," ",e.id,"")}}const D=()=>["apple"],b=()=>["banana"];let x=0;function g(o){return{id:x++,type:o}}function m(o,p){return Array.from({length:p-o+1},(e,d)=>d)}let C=(()=>{class o{constructor(){this.fruits=m(0,100).map(e=>g(Math.random()<.5?"apple":"banana")),this.apples=m(0,12).map(e=>g("apple")),this.bananas=m(0,10).map(e=>g("banana"))}trackByFruit(e,d){return d}onDragged(e,d,t){const r=t.indexOf(d);console.log(`onDragged ngFor-index=${e}, item=${d}, removeIndex=${r}, list=${t.length}`),t.splice(r,1)}onDrop(e,d){console.log("onDrop",e,d.length);let t=e.index;typeof t>"u"&&(t=d.length),d.splice(t,0,e.data)}static#n=this.\u0275fac=function(d){return new(d||o)};static#e=this.\u0275cmp=n.Xpm({type:o,selectors:[["dnd-typed"]],standalone:!0,features:[n.jDz],decls:20,vars:10,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],["dndDropzone","","dndEffectAllowed","move",1,"dndList","gap-1","flex-grow-1","d-flex","flex-column","bg-light","rounded-1","shadow-sm",3,"dndDrop"],["dndPlaceholderRef","",1,"dndPlaceholder","border","rounded-1","bg-danger","bg-gradient"],["class","border rounded-1 bg-white","dndEffectAllowed","move",3,"dndDraggable","dndType","dndMoved",4,"ngFor","ngForOf","ngForTrackBy"],["dndEffectAllowed","move",1,"dndList","gap-1","flex-grow-1","d-flex","flex-column","bg-light","rounded-1","shadow-sm",3,"dndDropzone","dndDrop"],["dndPlaceholderRef","",1,"dndPlaceholder","border","rounded-1","bg-success","bg-gradient"],["dndPlaceholderRef","",1,"dndPlaceholder","border","rounded-1","bg-warning","bg-gradient"],["dndEffectAllowed","move",1,"border","rounded-1","bg-white",3,"dndDraggable","dndType","dndMoved"],["matListItemTitle",""]],template:function(d,t){1&d&&(n.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"pre"),n._uU(4,"Fruits"),n.qZA(),n.TgZ(5,"mat-list",3),n.NdJ("dndDrop",function(a){return t.onDrop(a,t.fruits)}),n._UZ(6,"mat-list-item",4),n.YNc(7,f,3,4,"mat-list-item",5),n.qZA()(),n.TgZ(8,"div",2)(9,"pre"),n._uU(10,"Apples"),n.qZA(),n.TgZ(11,"mat-list",6),n.NdJ("dndDrop",function(a){return t.onDrop(a,t.apples)}),n._UZ(12,"mat-list-item",7),n.YNc(13,T,3,4,"mat-list-item",5),n.qZA()(),n.TgZ(14,"div",2)(15,"pre"),n._uU(16,"Bananas"),n.qZA(),n.TgZ(17,"mat-list",6),n.NdJ("dndDrop",function(a){return t.onDrop(a,t.bananas)}),n._UZ(18,"mat-list-item",8),n.YNc(19,y,3,4,"mat-list-item",5),n.qZA()()()()),2&d&&(n.xp6(7),n.Q6J("ngForOf",t.fruits)("ngForTrackBy",t.trackByFruit),n.xp6(4),n.Q6J("dndDropzone",n.DdM(8,D)),n.xp6(2),n.Q6J("ngForOf",t.apples)("ngForTrackBy",t.trackByFruit),n.xp6(4),n.Q6J("dndDropzone",n.DdM(9,b)),n.xp6(2),n.Q6J("ngForOf",t.bananas)("ngForTrackBy",t.trackByFruit))},dependencies:[s.ie,s.i$,s.Tg,s.sL,_.Q4,_.s1,u.sg,_.jk],styles:["[_nghost-%COMP%]{display:block;box-sizing:border-box}pre[_ngcontent-%COMP%]{text-align:center;padding:8px}.mat-mdc-list-item[_ngcontent-%COMP%]{margin:2px 0;border:1px solid gray}.dndList[_ngcontent-%COMP%]{transition:all .3s ease;padding:8px;overflow-y:auto}.dndList.dndDragover[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;border-color:green}.dndDragging[_ngcontent-%COMP%]{border:1px solid green}.dndDraggingSource[_ngcontent-%COMP%]{display:none}.dndPlaceholder[_ngcontent-%COMP%]{min-height:48px;border:1px dashed green;background-color:#0000001a}pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word}"]})}return o})()}}]);